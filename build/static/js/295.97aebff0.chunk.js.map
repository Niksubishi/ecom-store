{"version":3,"file":"static/js/295.97aebff0.chunk.js","mappings":"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","sources":["pages/ProductPage.tsx","api/apiClient.ts","components/common/ErrorFallback.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Product, ApiError } from '../types';\nimport { fetchProductById } from '../api/apiClient';\nimport { useCart } from '../hooks/useCart';\nimport { useToast } from '../context/ToastContext';\nimport { Button } from '../components/ui/Button';\nimport { Skeleton } from '../components/ui/Skeleton';\nimport { ErrorFallback } from '../components/common/ErrorFallback';\n\nconst ProductContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n\n  @media (min-width: ${({ theme }) => theme.breakpoints.tablet}) {\n    flex-direction: row;\n    gap: 32px;\n  }\n`;\n\nconst ImageContainer = styled.div`\n  flex: 1;\n\n  @media (min-width: ${({ theme }) => theme.breakpoints.tablet}) {\n    max-width: 500px;\n  }\n`;\n\nconst ProductImage = styled.img`\n  width: 100%;\n  height: auto;\n  max-height: 500px;\n  border-radius: 8px;\n  object-fit: cover;\n  box-shadow: ${({ theme }) => theme.shadows.small};\n`;\n\nconst ImagePlaceholder = styled.div`\n  width: 100%;\n  height: 300px;\n  background-color: ${({ theme }) => theme.colors.lightGray};\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${({ theme }) => theme.colors.lightText};\n`;\n\nconst ProductInfo = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n`;\n\nconst ProductTitle = styled.h1`\n  font-size: 2rem;\n  margin: 0;\n  line-height: 1.3;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints.mobile}) {\n    font-size: 1.5rem;\n  }\n`;\n\nconst PriceContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex-wrap: wrap;\n`;\n\nconst Price = styled.span`\n  font-size: 1.75rem;\n  font-weight: bold;\n  color: ${({ theme }) => theme.colors.primary};\n`;\n\nconst OriginalPrice = styled.span`\n  font-size: 1.25rem;\n  text-decoration: line-through;\n  color: ${({ theme }) => theme.colors.lightText};\n`;\n\nconst Discount = styled.span`\n  background-color: ${({ theme }) => theme.colors.secondary};\n  color: white;\n  font-size: 0.875rem;\n  font-weight: 600;\n  padding: 4px 8px;\n  border-radius: 4px;\n  text-transform: uppercase;\n`;\n\nconst Description = styled.p`\n  font-size: 1rem;\n  line-height: 1.6;\n  color: ${({ theme }) => theme.colors.text};\n  margin: 0;\n`;\n\nconst RatingContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 1rem;\n`;\n\nconst Stars = styled.span`\n  color: #ffc107;\n  font-size: 1.2rem;\n`;\n\nconst ReviewsSection = styled.section`\n  margin-top: 48px;\n`;\n\nconst ReviewsTitle = styled.h2`\n  font-size: 1.5rem;\n  margin-bottom: 16px;\n  padding-bottom: 8px;\n  border-bottom: 2px solid ${({ theme }) => theme.colors.lightGray};\n`;\n\nconst ReviewCard = styled.div`\n  background-color: ${({ theme }) => theme.colors.lightGray};\n  padding: 16px;\n  border-radius: 8px;\n  margin-bottom: 16px;\n`;\n\nconst ReviewHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n  flex-wrap: wrap;\n  gap: 8px;\n`;\n\nconst ReviewUser = styled.span`\n  font-weight: 600;\n  color: ${({ theme }) => theme.colors.text};\n`;\n\nconst ReviewRating = styled.span`\n  color: #ffc107;\n  font-size: 1.1rem;\n`;\n\nconst ReviewDescription = styled.p`\n  font-size: 0.95rem;\n  line-height: 1.5;\n  margin: 0;\n  color: ${({ theme }) => theme.colors.text};\n`;\n\nconst NoReviews = styled.p`\n  color: ${({ theme }) => theme.colors.lightText};\n  font-style: italic;\n  text-align: center;\n  padding: 20px;\n`;\n\nconst LoadingSkeleton = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n\n  @media (min-width: ${({ theme }) => theme.breakpoints.tablet}) {\n    flex-direction: row;\n    gap: 32px;\n  }\n`;\n\nconst ProductPage: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const [product, setProduct] = useState<Product | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [imageError, setImageError] = useState(false);\n  const [addingToCart, setAddingToCart] = useState(false);\n\n  const { addToCart } = useCart();\n  const { addToast } = useToast();\n\n  const discountInfo = useMemo(() => {\n    if (!product) return { hasDiscount: false, discountPercentage: 0 };\n\n    const hasDiscount = product.price !== product.discountedPrice;\n    const discountPercentage = hasDiscount\n      ? Math.round(((product.price - product.discountedPrice) / product.price) * 100)\n      : 0;\n\n    return { hasDiscount, discountPercentage };\n  }, [product]);\n\n  useEffect(() => {\n    if (!id) {\n      setError('Product ID is required');\n      setLoading(false);\n      return;\n    }\n\n    const getProduct = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const data = await fetchProductById(id);\n        setProduct(data);\n      } catch (err) {\n        const apiError = err as ApiError;\n        setError(apiError.message || 'Failed to fetch product');\n        console.error('Error fetching product:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    getProduct();\n  }, [id]);\n\n  const handleAddToCart = async () => {\n    if (!product) return;\n\n    try {\n      setAddingToCart(true);\n      addToCart(product);\n      addToast({\n        type: 'success',\n        title: 'Added to Cart',\n        message: `${product.title} has been added to your cart.`,\n      });\n    } catch (error) {\n      addToast({\n        type: 'error',\n        title: 'Error',\n        message: 'Failed to add item to cart. Please try again.',\n      });\n    } finally {\n      setAddingToCart(false);\n    }\n  };\n\n  const handleRetry = () => {\n    if (id) {\n      window.location.reload();\n    } else {\n      navigate('/');\n    }\n  };\n\n  const renderStars = (rating: number) => {\n    const fullStars = Math.floor(rating);\n    const hasHalfStar = rating % 1 !== 0;\n\n    return (\n      <Stars>\n        {'★'.repeat(fullStars)}\n        {hasHalfStar && '☆'}\n        {'☆'.repeat(5 - fullStars - (hasHalfStar ? 1 : 0))}\n      </Stars>\n    );\n  };\n\n  if (loading) {\n    return (\n      <LoadingSkeleton>\n        <div style={{ flex: 1 }}>\n          <Skeleton height={400} />\n        </div>\n        <div style={{ flex: 1 }}>\n          <Skeleton height={40} width=\"80%\" />\n          <Skeleton height={24} width=\"60%\" style={{ margin: '16px 0' }} />\n          <Skeleton height={80} style={{ margin: '16px 0' }} />\n          <Skeleton height={48} width=\"200px\" />\n        </div>\n      </LoadingSkeleton>\n    );\n  }\n\n  if (error || !product) {\n    return (\n      <ErrorFallback\n        error={error || 'Product not found'}\n        onRetry={handleRetry}\n      />\n    );\n  }\n\n  return (\n    <div>\n      <ProductContainer>\n        <ImageContainer>\n          {!imageError && product.image?.url ? (\n            <ProductImage\n              src={product.image.url}\n              alt={product.image.alt || product.title}\n              onError={() => setImageError(true)}\n            />\n          ) : (\n            <ImagePlaceholder>\n              Image not available\n            </ImagePlaceholder>\n          )}\n        </ImageContainer>\n\n        <ProductInfo>\n          <ProductTitle>{product.title}</ProductTitle>\n\n          {product.rating && (\n            <RatingContainer>\n              {renderStars(product.rating)}\n              <span>({product.rating})</span>\n            </RatingContainer>\n          )}\n\n          <PriceContainer>\n            <Price>${product.discountedPrice.toFixed(2)}</Price>\n            {discountInfo.hasDiscount && (\n              <>\n                <OriginalPrice>${product.price.toFixed(2)}</OriginalPrice>\n                <Discount>{discountInfo.discountPercentage}% OFF</Discount>\n              </>\n            )}\n          </PriceContainer>\n\n          <Description>{product.description}</Description>\n\n          <Button\n            onClick={handleAddToCart}\n            isLoading={addingToCart}\n            size=\"large\"\n            style={{ alignSelf: 'flex-start' }}\n          >\n            Add to Cart\n          </Button>\n        </ProductInfo>\n      </ProductContainer>\n\n      <ReviewsSection>\n        <ReviewsTitle>Customer Reviews</ReviewsTitle>\n        {product.reviews && product.reviews.length > 0 ? (\n          product.reviews.map((review) => (\n            <ReviewCard key={review.id}>\n              <ReviewHeader>\n                <ReviewUser>{review.username}</ReviewUser>\n                <ReviewRating>\n                  {renderStars(review.rating)}\n                </ReviewRating>\n              </ReviewHeader>\n              <ReviewDescription>{review.description}</ReviewDescription>\n            </ReviewCard>\n          ))\n        ) : (\n          <NoReviews>No reviews yet for this product.</NoReviews>\n        )}\n      </ReviewsSection>\n    </div>\n  );\n};\n\nexport default ProductPage;","import { Product, ApiResponse, ApiError } from '../types';\n\nconst API_BASE_URL = \"https://v2.api.noroff.dev/online-shop\";\n\nclass ApiClient {\n  private async fetchWithErrorHandling<T>(url: string): Promise<T> {\n    try {\n      const response = await fetch(url);\n\n      if (!response.ok) {\n        const errorData: ApiError = {\n          message: `HTTP ${response.status}: ${response.statusText}`,\n          status: response.status,\n          statusText: response.statusText,\n        };\n        throw errorData;\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      if (error instanceof TypeError && error.message.includes('fetch')) {\n        throw {\n          message: 'Network error. Please check your internet connection.',\n          status: 0,\n        } as ApiError;\n      }\n\n      if (error && typeof error === 'object' && 'message' in error) {\n        throw error as ApiError;\n      }\n\n      throw {\n        message: 'An unexpected error occurred',\n        status: 500,\n      } as ApiError;\n    }\n  }\n\n  async fetchProducts(): Promise<Product[]> {\n    try {\n      const result = await this.fetchWithErrorHandling<ApiResponse<Product[]>>(API_BASE_URL);\n\n      if (!result.data || !Array.isArray(result.data)) {\n        throw {\n          message: 'Invalid response format: expected array of products',\n          status: 500,\n        } as ApiError;\n      }\n\n      return result.data;\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      throw error;\n    }\n  }\n\n  async fetchProductById(id: string): Promise<Product> {\n    try {\n      if (!id || typeof id !== 'string') {\n        throw {\n          message: 'Invalid product ID provided',\n          status: 400,\n        } as ApiError;\n      }\n\n      const result = await this.fetchWithErrorHandling<ApiResponse<Product>>(`${API_BASE_URL}/${id}`);\n\n      if (!result.data) {\n        throw {\n          message: 'Product not found',\n          status: 404,\n        } as ApiError;\n      }\n\n      return result.data;\n    } catch (error) {\n      console.error(`Error fetching product with id ${id}:`, error);\n      throw error;\n    }\n  }\n}\n\nconst apiClient = new ApiClient();\n\nexport const fetchProducts = () => apiClient.fetchProducts();\nexport const fetchProductById = (id: string) => apiClient.fetchProductById(id);\nexport { ApiClient };","import React from 'react';\nimport styled from 'styled-components';\nimport { Button } from '../ui/Button';\n\ninterface ErrorFallbackProps {\n  error?: string;\n  onRetry?: () => void;\n  showRetry?: boolean;\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 20px;\n  text-align: center;\n  min-height: 200px;\n`;\n\nconst ErrorIcon = styled.div`\n  font-size: 3rem;\n  margin-bottom: 16px;\n  color: ${({ theme }) => theme.colors.secondary};\n`;\n\nconst ErrorTitle = styled.h2`\n  font-size: 1.5rem;\n  margin-bottom: 8px;\n  color: ${({ theme }) => theme.colors.text};\n`;\n\nconst ErrorMessage = styled.p`\n  font-size: 1rem;\n  margin-bottom: 24px;\n  color: ${({ theme }) => theme.colors.lightText};\n  max-width: 400px;\n`;\n\nexport const ErrorFallback: React.FC<ErrorFallbackProps> = ({\n  error = 'Something went wrong. Please try again.',\n  onRetry,\n  showRetry = true,\n}) => {\n  return (\n    <Container>\n      <ErrorIcon>⚠️</ErrorIcon>\n      <ErrorTitle>Oops!</ErrorTitle>\n      <ErrorMessage>{error}</ErrorMessage>\n      {showRetry && onRetry && (\n        <Button onClick={onRetry} variant=\"outline\">\n          Try Again\n        </Button>\n      )}\n    </Container>\n  );\n};"],"names":["ProductContainer","styled","div","_ref","theme","breakpoints","tablet","ImageContainer","_ref2","ProductImage","img","_ref3","shadows","small","ImagePlaceholder","_ref4","colors","lightGray","_ref5","lightText","ProductInfo","ProductTitle","h1","_ref6","mobile","PriceContainer","Price","span","_ref7","primary","OriginalPrice","_ref8","Discount","_ref9","secondary","Description","p","_ref10","text","RatingContainer","Stars","ReviewsSection","section","ReviewsTitle","h2","_ref11","ReviewCard","_ref12","ReviewHeader","ReviewUser","_ref13","ReviewRating","ReviewDescription","_ref14","NoReviews","_ref15","LoadingSkeleton","_ref16","ProductPage","_product$image","id","useParams","navigate","useNavigate","product","setProduct","useState","loading","setLoading","error","setError","imageError","setImageError","addingToCart","setAddingToCart","addToCart","useCart","addToast","useToast","discountInfo","useMemo","hasDiscount","discountPercentage","price","discountedPrice","Math","round","useEffect","async","data","fetchProductById","err","message","console","getProduct","handleRetry","window","location","reload","renderStars","rating","fullStars","floor","hasHalfStar","_jsxs","children","repeat","_jsx","style","flex","Skeleton","height","width","margin","ErrorFallback","onRetry","image","url","src","alt","title","onError","toFixed","_Fragment","description","Button","onClick","type","isLoading","size","alignSelf","reviews","length","map","review","username","API_BASE_URL","apiClient","fetchWithErrorHandling","response","fetch","ok","status","statusText","json","TypeError","includes","fetchProducts","result","this","Array","isArray","Container","ErrorIcon","ErrorTitle","ErrorMessage","showRetry","variant"],"sourceRoot":""}